{% extends 'base.html' %} {% load static %} 
{% block header %}
{% block seo%}
<title>Find Smile Design Dentists Near You | Book Appointments Online</title>
<meta name="description" content="Find the best dentists near you for custom smile design. Book your personalized smile makeover appointment online with Ultimate Smile Design." />
<link rel="canonical" href="https://ultimatesmiledesign.com/certified-dentists/" />
<meta property="og:image" content="{% static 'feature-usd.webp' %}">
<meta property="og:image:secure_url" content="{% static 'feature-usd.webp' %}">
<meta property="og:image:type" content="image/webp" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:locale" content="en_IN" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Find Smile Design Dentists Near You | Book Appointments Online" />
<meta property="og:description" content="Find the best dentists near you for custom smile design. Book your personalized smile makeover appointment online with Ultimate Smile Design." />
<meta property="og:url" content="https://ultimatesmiledesign.com/certified-dentists/" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Find Smile Design Dentists Near You | Book Appointments Online">
<meta name="twitter:description" content="Find the best dentists near you for custom smile design. Book your personalized smile makeover appointment online with Ultimate Smile Design."/>
{% endblock seo%}
{% endblock header %} 
{% block css %}
<style>
  .circular-image {
    width: 100px !important;
    height: 100px !important;
    border-radius: 50% !important;
    object-fit: cover !important; 
  }
  #browser-permission-helper{
    display: flex;
    margin: auto;
    align-items: center;
    justify-content: center;
  }
</style>

{% endblock css %} {% block body %}

<div class="page-content">
  <section class="breadcrumbs-section contactus-breadcrumbs-section">
    <div class="container">
      <div class="breadcrumbs-path"> <a href="{% url 'home:home' %}"> Home </a> &nbsp; <i class=" fa fa-solid fa-angles-right"></i> &nbsp; Certified Dentists</div>
      <h1 class="breadcrumbs-title bg-linear-gradient mb-0 fw-bold cool">Ultimate Smile Designers</h1>
      {% comment %} <img src="{% static 'Group 291.svg' %}" class="find-dentist-img img-fluid" /> {% endcomment %}
    </div>
  </section>
  <div id="location-fallback-message" class="text-center py-5 text-white d-none">
      <span class="fw-500 fs-4 cool mb-2">Missing One Step to Your Ultimate Smile</span>
      <p class="mx-auto text-center" style="max-width: 700px;">We can't access your location. Share your location access to find a certified Ultimate Smile Designer dentists near you and transform your ordinary smile into ultimate smile.</p>
      <button type="button" onclick="requestLocationAccess()" class="btn mt-3 bat text-black">
        Allow Location Access
    </button>
  </div>
  <div class="new-browser-wrapper d-none m-auto justify-content-center text-center py-5" id="browser-permission-helper" style="display:'flex'">
    <div class="container">
      <span class="fw-600 fs-4 cool mb-2 d-inline-block" style="font-family: 'Gilda Display', serif">Your Browser’s Location Access is Disabled</span>
      <p class="mx-auto text-center text-white" style="max-width: 700px;">To find certified Ultimate Smile Designer dentists near you, please enable your location. Follow the steps below to reset your browser’s location permissions.</p>
      <div class="step-wrapper text-center mb-5" id="step-1">
        <p class="text-white fs-5">Step 1: Click the padlock icon next to the website address in your browser’s address bar.</p>
        <img src="{% static 'resetlocation-img1.png' %}" class="resetlocation-img1 m-auto img-fluid" id="Resetlocation-img1" alt="Step by step guide to give location permission Ultimate Smile Design" />
      </div>
      <div class="step-wrapper text-center mb-5 d-none" id="step-2">
        <p class="text-white fs-5">Step 2: In the permissions dropdown, find the <strong>location </strong>option.</p>
        <img src="{% static 'resetlocation-img2.png' %}" class="resetlocation-img2 m-auto img-fluid" id="Resetlocation-img2" alt="Follow these steps to allow location access to find nearest smile designer dentist"/>
      </div>
      <div class="step-wrapper text-center mb-5 d-none" id="step-3">
        <p class="text-white fs-5">Step 3: Change the location setting to <strong>Allow</strong> or <strong>Enable Access<strong></p>
        <img src="{% static 'resetlocation-img3.png' %}" class="resetlocation-img3 m-auto img-fluid" id="Resetlocation-img3" alt="How to enable location access in google chrome?"/>
      </div>
      <div class="new-browser-btn-wrapper justify-content-between mx-5 d-flex">
        <button type="button" onclick="handlePrevButton()" class="btn btn-next my-3 bat d-flex justify-content-center text-black" >
          <svg class="mx-2 arrow-img img-fluid" width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.21975 8.46053L6.46975 3.21053C6.6112 3.07392 6.80065 2.99832 6.9973 3.00003C7.19395 3.00174 7.38206 3.08061 7.52111 3.21967C7.66017 3.35873 7.73905 3.54684 7.74076 3.74348C7.74246 3.94013 7.66687 4.12958 7.53025 4.27103L3.5605 8.24078H16.75C16.9489 8.24078 17.1397 8.3198 17.2803 8.46045C17.421 8.60111 17.5 8.79187 17.5 8.99078C17.5 9.1897 17.421 9.38046 17.2803 9.52111C17.1397 9.66177 16.9489 9.74078 16.75 9.74078H3.5605L7.53025 13.7105C7.60188 13.7797 7.65902 13.8625 7.69833 13.954C7.73763 14.0455 7.75832 14.1439 7.75919 14.2435C7.76005 14.3431 7.74108 14.4418 7.70337 14.534C7.66566 14.6262 7.60997 14.7099 7.53955 14.7803C7.46913 14.8507 7.38539 14.9064 7.29322 14.9442C7.20104 14.9819 7.10228 15.0008 7.0027 15C6.90312 14.9991 6.8047 14.9784 6.7132 14.9391C6.62169 14.8998 6.53894 14.8427 6.46975 14.771L1.21975 9.52103C1.07915 9.38039 1.00016 9.18966 1.00016 8.99078C1.00016 8.79191 1.07915 8.60118 1.21975 8.46053Z" fill="black"/>
          </svg>
          Back 
        </button>
        <button type="button" onclick="handleNextButton()" class="btn btn-prev my-3 bat d-flex justify-content-center text-black" >
          Next 
          <svg class="mx-2 arrow-img img-fluid" width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.7803 8.46053L12.5302 3.21053C12.3888 3.07392 12.1993 2.99832 12.0027 3.00003C11.8061 3.00174 11.6179 3.08061 11.4789 3.21967C11.3398 3.35873 11.261 3.54684 11.2592 3.74348C11.2575 3.94013 11.3331 4.12958 11.4698 4.27103L15.4395 8.24078H2.25C2.05109 8.24078 1.86032 8.3198 1.71967 8.46045C1.57902 8.60111 1.5 8.79187 1.5 8.99078C1.5 9.1897 1.57902 9.38046 1.71967 9.52111C1.86032 9.66177 2.05109 9.74078 2.25 9.74078H15.4395L11.4698 13.7105C11.3981 13.7797 11.341 13.8625 11.3017 13.954C11.2624 14.0455 11.2417 14.1439 11.2408 14.2435C11.2399 14.3431 11.2589 14.4418 11.2966 14.534C11.3343 14.6262 11.39 14.7099 11.4605 14.7803C11.5309 14.8507 11.6146 14.9064 11.7068 14.9442C11.799 14.9819 11.8977 15.0008 11.9973 15C12.0969 14.9991 12.1953 14.9784 12.2868 14.9391C12.3783 14.8998 12.4611 14.8427 12.5302 14.771L17.7803 9.52103C17.9209 9.38039 17.9998 9.18966 17.9998 8.99078C17.9998 8.79191 17.9209 8.60118 17.7803 8.46053Z" fill="black"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  <section class="searchbar-wrap">
    <div class="container pt-4">
      {% comment %} <div class="searchInfo-content-wrapper mb-5">
        {% if noshow %}
        <h2 class="searchInfo-subtitle">
          Ultimate Smile Designers found in Surat
        </h2>
        {% else %} {% if nomatch %}
        <h2 class="searchInfo-subtitle">{{nomatch}} in {{city}}</h2>
        {% else %}
        <h2 class="searchInfo-subtitle">
          {{total}} ultimate Smile Designers found in {{city}} </h2>
        <p class="searchInfo-description">
          Book appointments with minimum wait-time & verified dentist details
        </p>
        {% endif %} {% endif %}
      </div> {% endcomment %}

      <form
        class="row form d-flex mb-5"
        method="GET"
        action="{% url 'home:search_all_usd' %}"
      >
        {% csrf_token %}
        <div class="col-lg-4 col-md-6 col-12 position-relative">
          <div class="searchbar-box-wrapper">
            {% comment %} <img class="img-fluid" src="{% static 'searchG.svg' %}" id="searchicon-Img" /> {% endcomment %}
            <svg class="img-fluid" id="searchicon-Img" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.0269 1.76909C7.84116 1.77275 5.74597 2.64267 4.2004 4.18824C2.65483 5.73381 1.78491 7.829 1.78125 10.0148C1.78308 12.2024 2.65196 14.3 4.19753 15.8482C5.7431 17.3964 7.83932 18.2688 10.0269 18.2743C11.9671 18.2743 13.7548 17.5918 15.1683 16.4623L18.6017 19.8957C18.7757 20.0574 19.0055 20.1455 19.243 20.1413C19.4804 20.1371 19.7071 20.0411 19.8752 19.8734C20.0434 19.7057 20.14 19.4793 20.1448 19.2419C20.1496 19.0044 20.0622 18.7743 19.9009 18.6L16.4675 15.1631C17.6402 13.7047 18.2794 11.8896 18.2795 10.0182C18.2795 5.47271 14.5724 1.76909 10.0269 1.76909ZM10.0269 3.60531C13.5816 3.60531 16.4433 6.46358 16.4433 10.0148C16.4433 13.5659 13.5816 16.4415 10.0269 16.4415C6.47227 16.4415 3.61401 13.5763 3.61401 10.0217C3.61401 6.46704 6.47227 3.60531 10.0269 3.60531Z" fill="url(#paint0_linear_1624_6752)"/>
            <defs>
            <linearGradient id="paint0_linear_1624_6752" x1="7.9002" y1="1.76562" x2="19.7549" y2="3.95459" gradientUnits="userSpaceOnUse">
            <stop stop-color="#C3942F"/>
            <stop offset="0.234" stop-color="#D89C27"/>
            <stop offset="0.449" stop-color="#E7DC96"/>
            <stop offset="0.669" stop-color="#DFC86F"/>
            <stop offset="0.849" stop-color="#D89C27"/>
            <stop offset="1" stop-color="#C99C30"/>
            </linearGradient>
            </defs>
            </svg>
            <i class="fa-solid fa-xmark fs-5 d-none" id="closebutton"></i>
            <input
              class="form-control w-100"
              type="text"
              id="searchInput"
              onchange="searchDoctor(event)"
              oninput="searchDoctor(event)" 
              placeholder="Search doctors, clinics, hospitals, etc."
              name="q"
            />
          </div>
          <div id="suggestions"></div>
        </div>
        <div class="col-lg-4 col-md-6 col-12">
          <div class="searchbar-box-wrapper">
            <svg class="img-fluid" width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_2531_1226)">
            <path d="M37.2982 5.8057C36.4956 5.7999 35.841 6.44577 35.8352 7.24693C35.8294 8.0481 36.4738 8.70268 37.2764 8.70848C38.0776 8.71429 38.7322 8.06987 38.738 7.2687C38.7438 6.46754 38.0994 5.81296 37.2982 5.8057ZM37.2322 14.5139C31.6282 14.4741 27.0388 18.9951 26.9964 24.5973C26.9542 30.1992 31.4776 34.7908 37.0798 34.833L37.1576 34.8333C42.7241 34.8333 47.2734 30.3259 47.3155 24.7497C47.3578 19.148 42.8345 14.5561 37.2322 14.5139ZM37.1573 31.9307L37.1015 31.9304C33.0999 31.9002 29.8688 28.6204 29.899 24.619C29.9291 20.6357 33.1784 17.4162 37.1547 17.4162L37.2104 17.4165C41.212 17.4467 44.4431 20.7266 44.4129 24.7279C44.3827 28.7112 41.1335 31.9307 37.1573 31.9307ZM43.4885 6.90644C42.7335 6.63851 41.9035 7.03401 41.6355 7.78961C41.3678 8.5452 41.7633 9.37467 42.5187 9.64259C48.9116 11.9084 53.1722 17.9971 53.1211 24.7935C53.1151 25.595 53.76 26.2497 54.5616 26.2558H54.5728C55.369 26.2558 56.0178 25.6131 56.0239 24.8153C56.0842 16.7823 51.0466 9.58526 43.4885 6.90644Z" fill="url(#paint0_linear_2531_1226)"/>
            <path d="M46.0599 54.6364C55.7135 42.2103 61.7465 35.7306 61.8279 24.8591C61.9301 11.1808 50.8296 0 37.1523 0C23.6346 0 12.5841 10.9475 12.4813 24.489C12.3983 35.6553 18.5433 42.1261 28.2636 54.6343C18.5937 56.0793 12.4813 59.7103 12.4813 64.1514C12.4813 67.1263 15.2311 69.7958 20.2243 71.6681C24.769 73.3724 30.7817 74.311 37.1546 74.311C43.5275 74.311 49.5402 73.3724 54.0849 71.6681C59.0781 69.7957 61.8279 67.1262 61.8279 64.1512C61.8279 59.7126 55.7212 56.0825 46.0599 54.6364ZM15.3839 24.5109C15.4745 12.5618 25.2242 2.90278 37.1526 2.90278C49.2222 2.90278 59.0153 12.7705 58.9253 24.8375C58.8481 35.1618 52.4501 41.5242 42.2356 54.8397C40.4137 57.2136 38.7406 59.458 37.1568 61.6535C35.5777 59.4567 33.9379 57.2525 32.0887 54.8388C21.452 40.9659 15.3053 35.0843 15.3839 24.5109ZM37.1546 71.4083C24.6943 71.4083 15.3839 67.5771 15.3839 64.1514C15.3839 61.6109 20.9497 58.4016 30.308 57.2902C32.3766 60.0045 34.1903 62.4704 35.9691 64.9888C36.103 65.1784 36.2804 65.3331 36.4865 65.4399C36.6925 65.5468 36.9212 65.6026 37.1533 65.6028H37.1546C37.3865 65.6028 37.615 65.5472 37.8211 65.4407C38.0271 65.3342 38.2046 65.1799 38.3387 64.9907C40.1006 62.5051 41.9639 59.9784 44.0149 57.2918C53.3645 58.4043 58.9253 61.6126 58.9253 64.1515C58.9252 67.5771 49.6149 71.4083 37.1546 71.4083Z" fill="url(#paint1_linear_2531_1226)"/>
            </g>
            <defs>
            <linearGradient id="paint0_linear_2531_1226" x1="36.6686" y1="5.80566" x2="55.407" y2="9.26804" gradientUnits="userSpaceOnUse">
            <stop stop-color="#C3942F"/>
            <stop offset="0.234" stop-color="#D89C27"/>
            <stop offset="0.449" stop-color="#E7DC96"/>
            <stop offset="0.669" stop-color="#DFC86F"/>
            <stop offset="0.849" stop-color="#D89C27"/>
            <stop offset="1" stop-color="#C99C30"/>
            </linearGradient>
            <linearGradient id="paint1_linear_2531_1226" x1="28.9237" y1="-6.06967e-07" x2="61.3779" y2="3.98219" gradientUnits="userSpaceOnUse">
            <stop stop-color="#C3942F"/>
            <stop offset="0.234" stop-color="#D89C27"/>
            <stop offset="0.449" stop-color="#E7DC96"/>
            <stop offset="0.669" stop-color="#DFC86F"/>
            <stop offset="0.849" stop-color="#D89C27"/>
            <stop offset="1" stop-color="#C99C30"/>
            </linearGradient>
            <clipPath id="clip0_2531_1226">
            <rect width="74.3111" height="74.3111" fill="white"/>
            </clipPath>
            </defs>
            </svg>
            <select
              class="form-select"
              name="city"
              {% comment %} placeholder="" {% endcomment %}
              aria-label="Select Location"
              onchange="this.form.submit()" 
            >
              <option value="">Select Location</option>
              {% for ie in a_city %}
              <option value="{{ ie.id }}" {% if city == ie.id|stringformat:"s" %}selected{% endif %}>
                {{ ie.city }}
              </option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-6 col-12">
          <button class="btn w-100 search-button mt-0 bat" type="submit">Search</button>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-6 col-12">
          <button class="d-flex align-items-center justify-content-center searchbar-button-wrapper btn w-100 bat">
            <a href="tel:+918488888877">
              <svg class="img-fluid" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1630_2304)">
              <path d="M18.9657 14.8671C18.4744 14.3555 17.8817 14.082 17.2536 14.082C16.6306 14.082 16.0329 14.3505 15.5213 14.8621L13.9206 16.4577C13.7889 16.3867 13.6572 16.3209 13.5306 16.2551C13.3482 16.1639 13.176 16.0778 13.0291 15.9866C11.5298 15.0343 10.1672 13.7933 8.86033 12.1876C8.22716 11.3872 7.80167 10.7135 7.49268 10.0297C7.90804 9.64981 8.29301 9.25472 8.66785 8.87481C8.80968 8.73298 8.95151 8.58609 9.09334 8.44426C10.1571 7.38053 10.1571 6.00275 9.09334 4.93902L7.71049 3.55618C7.55347 3.39915 7.39138 3.23706 7.23942 3.07497C6.93549 2.76092 6.61638 2.43673 6.28713 2.13281C5.79579 1.64654 5.20821 1.3882 4.59023 1.3882C3.97226 1.3882 3.37454 1.64654 2.86801 2.13281L2.85788 2.14294L1.13565 3.88036C0.487286 4.52873 0.117514 5.31893 0.0364682 6.23576C-0.0851005 7.71485 0.350521 9.09262 0.684835 9.99426C1.50542 12.2078 2.73124 14.2593 4.55984 16.4577C6.77847 19.1069 9.44792 21.1988 12.4973 22.6729C13.6623 23.225 15.2174 23.8784 16.9548 23.9899C17.0612 23.9949 17.1726 24 17.2739 24C18.444 24 19.4267 23.5796 20.1966 22.7438C20.2017 22.7337 20.2118 22.7286 20.2169 22.7185C20.4803 22.3993 20.7842 22.1106 21.1033 21.8016C21.3211 21.5939 21.544 21.3761 21.7618 21.1482C22.2633 20.6265 22.5267 20.0186 22.5267 19.3956C22.5267 18.7675 22.2582 18.1647 21.7466 17.6582L18.9657 14.8671ZM20.7791 20.201C20.7741 20.201 20.7741 20.206 20.7791 20.201C20.5816 20.4137 20.379 20.6062 20.1612 20.8189C19.8319 21.133 19.4976 21.4622 19.1835 21.832C18.6719 22.3791 18.0692 22.6374 17.279 22.6374C17.203 22.6374 17.1219 22.6374 17.046 22.6323C15.5415 22.5361 14.1435 21.9485 13.095 21.4471C10.228 20.0591 7.7105 18.0887 5.6185 15.5915C3.89121 13.5096 2.73631 11.5848 1.97144 9.51812C1.50036 8.25684 1.32814 7.27416 1.40412 6.3472C1.45477 5.75455 1.68271 5.26321 2.10314 4.84278L3.83043 3.11549C4.07863 2.88249 4.34203 2.75585 4.60036 2.75585C4.91948 2.75585 5.17781 2.94834 5.3399 3.11043L5.3551 3.12562C5.66409 3.41435 5.95788 3.71321 6.26687 4.03233C6.42389 4.19442 6.58598 4.35651 6.74808 4.52367L8.13092 5.90651C8.66785 6.44344 8.66785 6.93984 8.13092 7.47677C7.98403 7.62367 7.84219 7.77056 7.6953 7.91239C7.26981 8.34802 6.86458 8.75325 6.42389 9.14834C6.41376 9.15847 6.40363 9.16354 6.39857 9.17367C5.96294 9.60929 6.04399 10.0348 6.13517 10.3235L6.15036 10.3691C6.51 11.2403 7.01654 12.0609 7.78648 13.0385L7.79154 13.0436C9.18958 14.7658 10.6636 16.1082 12.2896 17.1364C12.4973 17.2681 12.71 17.3745 12.9126 17.4758C13.095 17.567 13.2672 17.6531 13.4141 17.7443C13.4344 17.7544 13.4546 17.7696 13.4749 17.7797C13.6471 17.8658 13.8092 17.9064 13.9764 17.9064C14.3968 17.9064 14.6602 17.643 14.7463 17.5568L16.4786 15.8245C16.6509 15.6523 16.9244 15.4446 17.2435 15.4446C17.5576 15.4446 17.8159 15.6421 17.9729 15.8144L17.9831 15.8245L20.7741 18.6155C21.2958 19.1322 21.2958 19.664 20.7791 20.201ZM12.9683 5.70896C14.2955 5.93184 15.501 6.55994 16.4634 7.52236C17.4259 8.48478 18.0489 9.69034 18.2768 11.0175C18.3326 11.3518 18.6213 11.5848 18.9505 11.5848C18.9911 11.5848 19.0265 11.5797 19.067 11.5747C19.4419 11.5139 19.6901 11.1593 19.6293 10.7845C19.3558 9.17874 18.596 7.71485 17.436 6.55488C16.276 5.39491 14.8121 4.6351 13.2064 4.36157C12.8316 4.30079 12.4821 4.54899 12.4162 4.91876C12.3504 5.28854 12.5935 5.64818 12.9683 5.70896ZM23.9703 10.5869C23.5195 7.94279 22.2734 5.53674 20.3587 3.62203C18.444 1.70732 16.038 0.461243 13.3938 0.0104253C13.0241 -0.0554245 12.6746 0.197844 12.6087 0.567615C12.5479 0.942452 12.7961 1.29196 13.171 1.35781C15.5314 1.75798 17.6842 2.87742 19.3963 4.58445C21.1084 6.29654 22.2228 8.44932 22.6229 10.8098C22.6786 11.1441 22.9674 11.3771 23.2966 11.3771C23.3371 11.3771 23.3726 11.372 23.4131 11.367C23.7829 11.3113 24.0362 10.9567 23.9703 10.5869Z" fill="#2D2D2D"/>
              </g>
              <defs>
              <clipPath id="clip0_1630_2304">
              <rect width="24" height="24" fill="white"/>
              </clipPath>
              </defs>
              </svg>
              <span>Customer Support</span>
            </a>
          </button>
        </div>
      </form>
    </div>
  </section>

  <section class="dentist-section">
    <div class="container">
      {% if city != "all" %}
      <div class="row mb-4">
        <div class="col-12">
          <p class="text-white text-center fs-5">
            Top-rated smile designer dentists in <span class="cool">{{ city }}</span>, personally verified for your perfect smile—scroll, choose, and book appointment with confidence.
          </p>
        </div>
      </div>
      {% endif %}
      {% if data %}
      <div class="row mt-4 mt-md-4 mt-sm-5">
        {% for ie in data %}
        <div class="col-lg-3 col-md-4 col-sm-4 col-12 mb-4">
          <div class="dentist-content">
            <div class="card">
              <a href="{% url 'home:find_dentist_d' ie.slug %}">
                {% if ie.profile %}
                <img
                  src="{{ ie.profile.url }}"
                  class="img-fluid"
                  alt="{{ ie.alt_text }}"
                />
                {% else %}
                <img src="{% static 'noimage-team.webp' %}" alt="Image" />
                {% endif %}
              </a>

              <div class="card-body text-end">
                {% comment %} <h2 class="text-start">{{ie.name}}</h2>
                <p class="text-start mb-0">{{ie.city}}</p> {% endcomment %}
                <button class="btn bookAppoinment-btn mt-3 w-100 bat" onclick="BookAppoinment('{{ie.name}}','{{ie.city}}')">
                  Book Appointment
                  {% comment %} <a href="#">Book Appointment</a> {% endcomment %}
                  {% comment %} <a href="/account/dentist/" >Book Appointment</a> {% endcomment %}
                </button>
                <span class="cool d-inline-block">ADE Verified Dentist</span>
              </div>
              
            </div>
          </div>
        </div>
        <div class="col-lg-5 col-md-8 col-sm-8 col-12 mb-4">
          <div class="dentist-content1">
            <h2 class="mt-3 cool d-inline-block">{{ie.name}}</h2>
            <p class="fw-600" style="font-size: 1.125rem;">{{ie.city}}</p>
            <p>{{ie.bio}}</p>
            <p class="cool profile_btn"><a href="{% url 'home:find_dentist_d' ie.slug %}">View Profile <i class="fa-solid fa-angles-right" style="font-size:12px"></i></a></p>
          </div>
        </div>
        <div class="col-lg-4 col-md-12 col-sm-12 col-12 mb-4">
          <div class="dentist-content2">
            {% if ie.iframe %}
            <div style="filter: invert(90%) hue-rotate(180deg); width: 100%; height: 380px;">
             {{ie.iframe | safe}} 
            </div>
             {% else %}
            <p class="d-flex align-items-center justify-content-center h-100">
              No Location Available
            </p>
            {% endif %}
          </div>
        </div>
        {% endfor %} {% include 'pagination.html' %}
      </div>
      {% else %}
      <h3 class="d-flex justify-content-center text-white">Not Found in {{city}}</h3>
      {% endif %}
    </div>
  </section>
</div>
<!-- Content END-->
{% endblock body %}
{% block js %}
<!--Search Script-->
<script>
    function searchDoctor(event){
      let a = document.getElementById("closebutton")
      let b = document.getElementById("searchicon-Img")
      if(event.target.value === ""){
          const suggestionBox = document.getElementById("suggestions")
          document.getElementById('suggestions').innerHtml = '';
          a.classList.add("d-none");
          a.classList.remove("d-block")
          b.classList.add("d-block")
          b.classList.remove("d-none")
          suggestionBox.classList.add("d-none");
      }else{
          const suggestionBox = document.getElementById("suggestions")
          a.classList.add("d-block")
          a.classList.remove("d-none")
          b.classList.add("d-none")
          b.classList.remove("d-block")
          suggestionBox.classList.remove("d-none");
      }
      const query = document.getElementById('searchInput').value;
      if(query.length < 2){
        document.getElementById('suggestions').innerHtml = '';
        return;
      }
      fetch(`/certified-dentists/?q=${encodeURIComponent(query)}`,{headers:{
          'X-Requested-With': 'XMLHttpRequest'
      }})
      .then(response => response.json())
      .then(data => {
       // console.log("data",data)
        const suggestionBox = document.getElementById('suggestions');
        suggestionBox.innerHTML = '';
        if(data.results.length == 0){
          const div = document.createElement('p');
          div.textContent = "Not found Doctor data !";
					div.style.cursor = 'pointer';
          suggestionBox.appendChild(div);
        }else{
          data.results.forEach(doctor => {
              const div = document.createElement('a');
              div.href= `/certified-dentists/${doctor.slug}/`;
              div.textContent = doctor.name;
              div.style.padding = '5px 10px';
              div.style.borderBottom = '1px solid #ccc';
              div.style.cursor = 'pointer';
              suggestionBox.appendChild(div);
        	});
        }
      })
    }
    document.getElementById('closebutton').addEventListener('click',function(){
        const input = document.getElementById('searchInput')
        input.value = '';

        const closeBtn = document.getElementById('closebutton')
        const searchIcon = document.getElementById("searchicon-Img")
        closeBtn.classList.add("d-none");
        closeBtn.classList.remove("d-block");
        searchIcon.classList.add("d-block");
        searchIcon.classList.remove("d-none");

        const suggestionBox = document.getElementById('suggestions');
        suggestionBox.innerHTML = '';
	  })
</script>
<!--Book Appointment-->
<script>
  function BookAppoinment(name,city){
    //console.log("sdf",id,name,city)
    const doctordata = {
      name:name,
      city:city
    }
    localStorage.setItem('selectedDoctor',JSON.stringify(doctordata));
    window.location.href="/consult-with-dentist/";
  }
</script>
<!--Location Access-->
{% comment %} <script>
  var x = document.getElementById("demo");

    function getLocation(manual = false) {
        if (navigator.geolocation) {
          //console.log("navigator",navigator,navigator.geolocation)
            navigator.geolocation.getCurrentPosition((position) => showPosition(position, manual), handleLocationError);
        } else {
            showFallbackMessage();
        }
    }
     function showPosition(position, manual = false) {
        x.innerHTML =
            "Latitude: " + position.coords.latitude + 
            "<br>Longitude: " + position.coords.longitude;
         var a = JSON.parse(localStorage.getItem('permission_access')); 
         //console.log("a",a)
        if (sessionStorage.getItem("latitude") !== null && a === true) {
            //console.log("Session data exists!");
        } else {
            // Store latitude and longitude in sessionStorage
            sessionStorage.setItem("latitude", position.coords.latitude);
            sessionStorage.setItem("longitude", position.coords.longitude);

            var latitude = sessionStorage.getItem("latitude");
            var longitude = sessionStorage.getItem("longitude");

            if (latitude && longitude) {
                // Send the location data to the server
                $.ajax({
                    url: "/receive_location/", // URL of your Django view
                    type: "POST",
                    data: {
                        latitude: latitude,
                        longitude: longitude,
                        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(), // CSRF token is required for POST requests
                    },
                    success: function (response) {
                        //console.log("Data sent to server:", response);

                        // Check if the server returned city and state
                        if (response.status === "success") {
                            const city = response.city || "unknown";
                            const state = response.state || "unknown";

                            // Store city and state in sessionStorage or localStorage
                            sessionStorage.setItem("city", city);
                            sessionStorage.setItem("state", state);

                            // Optionally store in localStorage
                            localStorage.setItem("city", city);
                            localStorage.setItem("state", state);

                            //console.log("City and State saved:", { city, state });
                        }
                    },
                    error: function (error) {
                        console.error("Error sending data:", error);
                    },
                });
            }
            if (manual){
              localStorage.setItem('permission_access', JSON.stringify(true));
              location.reload();
            } else{
              // Display confirmation dialog after storing location
            setTimeout(() => {
                Swal.fire({
                    title: "Allow Your Location for Nearest Smile Designers.",
                    showCancelButton: false,
                    confirmButtonText: "Allow",
                    showCloseButton: true,
                    customClass: {
                        popup: "custom-swal-popup" },
                }).then((result) => {
                    if (result.isConfirmed) {
                      localStorage.setItem('permission_access',JSON.parse(true))
                      location.reload();
                    } else if(result.dismiss === Swal.DismissReason.close){
                      //console.log("User clicked close. Location access denied.")
                      const message = document.getElementById("location-fallback-message");
                      const form = document.querySelector(".searchbar-wrap");
                      const dentistSection = document.querySelector(".dentist-section");

                      if (message) message.classList.remove("d-none");
                      if (form) form.classList.add("d-none");
                      if (dentistSection) dentistSection.classList.add("d-none");
                    }
                });
            }, 1000);
            } 
        }
    }
    // Fallback if user denies location
    function handleLocationError(error) {
      console.warn("Location access denied or unavailable.");
      showFallbackMessage();

      const lat = sessionStorage.getItem("latitude");
      const lng = sessionStorage.getItem("longitude");

      if(!lat || !lng){
        setTimeout(()=>{
          showPermissionModal();
        },1500)
      }
    }
    function showPermissionModal() {
      document.getElementById("browser-permission-modal").classList.remove("d-none");
    }
    function closePermissionModal() {
      document.getElementById("browser-permission-modal").classList.add("d-none");
    }

    function showFallbackMessage() {
      const message = document.getElementById("location-fallback-message");
      const form = document.querySelector(".searchbar-wrap");
      const dentistSection = document.querySelector(".dentist-section");

      if (message) message.classList.remove("d-none");
      if (form) form.classList.add("d-none");
      if (dentistSection) dentistSection.classList.add("d-none");
    }
    document.addEventListener("DOMContentLoaded",function() {
      // console.log("location")
       getLocation();
    })
    
</script>  {% endcomment %}

<script>
  var x = document.getElementById("demo");

  function getLocation(manual = false) {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (position) => showPosition(position, manual),
        handleLocationError
      );
    } else {
      showFallbackMessage();
    }
  }

  function showPosition(position, manual = false) {
    x.innerHTML =
      "Latitude: " + position.coords.latitude +
      "<br>Longitude: " + position.coords.longitude;

    const a = JSON.parse(localStorage.getItem('permission_access'));

    if (sessionStorage.getItem("latitude") !== null && a === true) {
      return;
    }

    if (manual) {
      localStorage.setItem('permission_access', JSON.stringify(true));
      storeLocation(position.coords);
      location.reload();
    } else {
      setTimeout(() => {
        Swal.fire({
          title: "Allow Your Location for Nearest Smile Designers.",
          showCancelButton: false,
          confirmButtonText: "Allow",
          showCloseButton: true,
          customClass: {
            popup: "custom-swal-popup"
          },
        }).then((result) => {
          if (result.isConfirmed) {
            // localStorage.setItem('permission_access', JSON.stringify(true));
            // storeLocation(position.coords);
            // location.reload();
            requestLocationAccess();
          } else if (result.dismiss === Swal.DismissReason.close) {
            const message = document.getElementById("location-fallback-message");
            const form = document.querySelector(".searchbar-wrap");
            const dentistSection = document.querySelector(".dentist-section");

            if (message) message.classList.remove("d-none");
            if (form) form.classList.add("d-none");
            if (dentistSection) dentistSection.classList.add("d-none");
          }
        });
      }, 1000);
    }
  }

  function storeLocation(coords) {
    const latitude = coords.latitude;
    const longitude = coords.longitude;

    sessionStorage.setItem("latitude", latitude);
    sessionStorage.setItem("longitude", longitude);

    $.ajax({
      url: "/receive_location/",
      type: "POST",
      data: {
        latitude: latitude,
        longitude: longitude,
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
      },
      success: function (response) {
        if (response.status === "success") {
          const city = response.city || "unknown";
          const state = response.state || "unknown";

          sessionStorage.setItem("city", city);
          sessionStorage.setItem("state", state);

          localStorage.setItem("city", city);
          localStorage.setItem("state", state);

          // ✅ Show nearest dentists now that we have city/state
          if (typeof showNearestDentists === "function") {
            showNearestDentists(city, state);
          } else {
            console.warn("showNearestDentists(city, state) is not defined.");
          }
        }
      },
      error: function (error) {
        console.error("Error sending data:", error);
      },
    });
  }

  function handleLocationError(error) {
    console.warn("Location access denied or unavailable.");
    showFallbackMessage();

    const lat = sessionStorage.getItem("latitude");
    const lng = sessionStorage.getItem("longitude");

    if (!lat || !lng) {
      setTimeout(() => {
        showPermissionModal();
      }, 1500);
    }
  }

  function showPermissionModal() {
    document.getElementById("browser-permission-modal").classList.remove("d-none");
  }

  function closePermissionModal() {
    document.getElementById("browser-permission-modal").classList.add("d-none");
  }

  function showFallbackMessage() {
    const message = document.getElementById("location-fallback-message");
    const form = document.querySelector(".searchbar-wrap");
    const dentistSection = document.querySelector(".dentist-section");

    if (message) message.classList.remove("d-none");
    if (form) form.classList.add("d-none");
    if (dentistSection) dentistSection.classList.add("d-none");
  }

  document.addEventListener("DOMContentLoaded", function () {
    getLocation();
  });
</script> 

<script>
  function requestLocationAccess() {
    const message = document.getElementById("location-fallback-message");
    if (message) message.classList.add("d-none");

    const csrfToken = document.querySelector('input[name=csrfmiddlewaretoken]')?.value;

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        function (position) {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;

          sessionStorage.setItem("latitude", latitude);
          sessionStorage.setItem("longitude", longitude);

          // ✅ Try fetching city/state using backend API
          $.ajax({
            url: "/receive_location/",
            type: "POST",
            data: {
              latitude: latitude,
              longitude: longitude,
              csrfmiddlewaretoken: csrfToken,
            },
            success: function (response) {
              if (response.status === "success" && response.city && response.state) {
                sessionStorage.setItem("city", response.city);
                sessionStorage.setItem("state", response.state);
                localStorage.setItem("city", response.city);
                localStorage.setItem("state", response.state);
                localStorage.setItem("permission_access", JSON.stringify(true));

                location.reload();
              } else {
                console.warn("City/State not returned. Showing fallback.");
                showPermissionReminder(); 
              }
            },
            error: function (xhr) {
              console.error("AJAX error:", xhr);
              showPermissionReminder();  
            },
          });
        },
        function (error) {
          if (error.code === error.PERMISSION_DENIED) {
            showPermissionReminder();  
          } else {
            alert("Location access failed. Please try again.");
          }
        },
        { timeout: 10000 }
      );
    } else {
      showPermissionReminder(); 
    }
  }

  {% comment %} function handleNextButton(){
    const image1 = document.getElementById("Resetlocation-img1");
    const image2 = document.getElementById("Resetlocation-img2");
    const image3 = document.getElementById("Resetlocation-img3");

    const matchclass = image1.classList.contains("resetlocation-img1");
   
    if(image1 && image1.classList.contains("d-block")){
      console.log("image1");
      image1.classList.add("d-none");
      image1.classList.remove("d-block");
      image2.classList.add("d-block");
      image2.classList.remove("d-none");
    } else if(image2 && image2.classList.contains("d-block")){
      console.warn("image2");
      image2.classList.add("d-none");
      image3.classList.add("d-block");
      image3.classList.remove("d-none")
    }
  }
  function handlePrevButton(){
    const image1 = document.getElementById("Resetlocation-img1");
    const image2 = document.getElementById("Resetlocation-img2");
    const image3 = document.getElementById("Resetlocation-img3");

    if(image1 && image1.classList.contains("d-block")){
      console.log("image1");
      image1.classList.add("d-none");
      image1.classList.remove("d-block");
      image2.classList.add("d-block");
      image2.classList.remove("d-none");
    } else if(image2 && image2.classList.contains("d-block")){
      console.warn("image2");
      image2.classList.add("d-none");
      image3.classList.add("d-block");
      image3.classList.remove("d-none")
    }
  } {% endcomment %}
  function showPermissionReminder() {
    const reminder = document.getElementById("browser-permission-helper");
    if (reminder) reminder.classList.remove("d-none");
  }
</script>
<script>
  const stepIds = ["step-1", "step-2", "step-3"];
  let currentIndex = 0;

  function updateStepDisplay() {
    stepIds.forEach((id, index) => {
      const stepElement = document.getElementById(id);
      if (stepElement) {
        if (index === currentIndex) {
          stepElement.classList.remove("d-none");
        } else {
          stepElement.classList.add("d-none");
        }
      }
    });

    // Handle Prev button visibility
    const prevButton = document.querySelector("button[onclick='handlePrevButton()']");
    if (prevButton) {
      prevButton.classList.toggle("d-none", currentIndex === 0);
    }

    // Handle Next button label and styling
    const nextButton = document.querySelector("button[onclick='handleNextButton()']");
    if (nextButton) {
      if (currentIndex === stepIds.length - 1) {
        nextButton.textContent = "Finish";
        nextButton.classList.remove("justify-content-end", "ms-auto");
        nextButton.classList.add("justify-content-center");
      } else {
        nextButton.innerHTML = 'Next <img src="{% static 'next-arrow.svg' %}" class="mx-2 arrow-img img-fluid" alt="Next arrow" />';
        nextButton.classList.add("d-flex", "justify-content-end", "ms-auto");
        nextButton.classList.remove("justify-content-center");
      }
    }
  }

  function handlePrevButton() {
    if (currentIndex > 0) {
      currentIndex--;
      updateStepDisplay();
    }
  }

  function handleNextButton() {
    if (currentIndex < stepIds.length - 1) {
      currentIndex++;
      updateStepDisplay();
    } else {
      location.reload();
    }
  }

  document.addEventListener("DOMContentLoaded", function () {
    // Hide all steps initially
    stepIds.forEach(id => {
      const stepElement = document.getElementById(id);
      if (stepElement) {
        stepElement.classList.add("d-none");
      }
    });
    // Then show the first step
    updateStepDisplay();
  });
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Service",
  "serviceType": "Find Best Dentist Near You in Your City",
  "provider": {
    "@type": "Organization",
    "name": "Ultimate Smile Design",
    "url": "https://ultimatesmiledesign.com/"
  },
  "areaServed": {
    "@type": "Place",
    "name": "India",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "India"
    }
  },
  "description": "Searching for the best dentists near you? Discover top dentists in your city offering exceptional dental services, patient-focused care, and flexible scheduling near your location.",
  "url": "https://ultimatesmiledesign.com/certified-dentists/"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://ultimatesmiledesign.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Certified Dentists",
      "item": "https://ultimatesmiledesign.com/certified-dentists/"
    }
  ]
}
</script>
{% endblock js %}
